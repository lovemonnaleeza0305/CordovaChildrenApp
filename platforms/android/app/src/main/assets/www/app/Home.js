/*
 * JS for Home generated by Appery.io
 */
Apperyio.getProjectGUID = function() {
    return '5df45570-e9a1-479d-978b-deb350f290d0';
};

function navigateTo(outcome, useAjax) {
    Apperyio.navigateTo(outcome, useAjax);
}

function adjustContentHeight() {
    Apperyio.adjustContentHeightWithPadding();
}

function adjustContentHeightWithPadding(_page) {
    Apperyio.adjustContentHeightWithPadding(_page);
}

function setDetailContent(pageUrl) {
    Apperyio.setDetailContent(pageUrl);
}
Apperyio.AppPages = [{
    "name": "PDFPreview",
    "location": "PDFPreview.html"
}, {
    "name": "addMyStudents",
    "location": "addMyStudents.html"
}, {
    "name": "Attendance",
    "location": "Attendance.html"
}, {
    "name": "store_volunteer",
    "location": "store_volunteer.html"
}, {
    "name": "payment",
    "location": "payment.html"
}, {
    "name": "Home",
    "location": "Home.html"
}, {
    "name": "podInventory",
    "location": "podInventory.html"
}, {
    "name": "orderDisplay",
    "location": "orderDisplay.html"
}, {
    "name": "Reading",
    "location": "Reading.html"
}, {
    "name": "adminCheckAttendance",
    "location": "adminCheckAttendance.html"
}, {
    "name": "evaluatePod",
    "location": "evaluatePod.html"
}, {
    "name": "Lessons",
    "location": "Lessons.html"
}, {
    "name": "Assessment",
    "location": "Assessment.html"
}, {
    "name": "register",
    "location": "register.html"
}, {
    "name": "registerProfile",
    "location": "registerProfile.html"
}, {
    "name": "store",
    "location": "store.html"
}, {
    "name": "paymentHistories",
    "location": "paymentHistories.html"
}, {
    "name": "Reports",
    "location": "Reports.html"
}, {
    "name": "Assessments",
    "location": "Assessments.html"
}, {
    "name": "AdminFeedback",
    "location": "AdminFeedback.html"
}, {
    "name": "searchPodEvaluations",
    "location": "searchPodEvaluations.html"
}, {
    "name": "orderDisplay_food",
    "location": "orderDisplay_food.html"
}, {
    "name": "Login",
    "location": "Login.html"
}, {
    "name": "adminDash",
    "location": "adminDash.html"
}, {
    "name": "assessmentReportStudent",
    "location": "assessmentReportStudent.html"
}, {
    "name": "updateStudentPoints",
    "location": "updateStudentPoints.html"
}, {
    "name": "Splash",
    "location": "Splash.html"
}, {
    "name": "foodStoreAccess",
    "location": "foodStoreAccess.html"
}];

function Home_js() {
    /* Object & array with components "name-to-id" mapping */
    var n2id_buf = {
        'mobileimage_69': 'Home_mobileimage_69',
        'mobilegrid_78': 'Home_mobilegrid_78',
        'mobilegridcell_79': 'Home_mobilegridcell_79',
        'welcomeLabel': 'Home_welcomeLabel',
        'accountTypeDisplay': 'Home_accountTypeDisplay',
        'myPoints': 'Home_myPoints',
        'mobilegridcell_80': 'Home_mobilegridcell_80',
        'attendanceButton': 'Home_attendanceButton',
        'mobilegridcell_84': 'Home_mobilegridcell_84',
        'attendLabel': 'Home_attendLabel',
        'alreadyGrid': 'Home_alreadyGrid',
        'mobilegridcell_29': 'Home_mobilegridcell_29',
        'mobilelabel_33': 'Home_mobilelabel_33',
        'mobilegrid_2': 'Home_mobilegrid_2',
        'mobilegridcell_3': 'Home_mobilegridcell_3',
        'mobileimage_64': 'Home_mobileimage_64',
        'mobilelabel_85': 'Home_mobilelabel_85',
        'mobilegridcell_4': 'Home_mobilegridcell_4',
        'mobileimage_65': 'Home_mobileimage_65',
        'mobilelabel_86': 'Home_mobilelabel_86',
        'mobilegridcell_5': 'Home_mobilegridcell_5',
        'mobileimage_66': 'Home_mobileimage_66',
        'mobilelabel_87': 'Home_mobilelabel_87',
        'mobilegridcell_6': 'Home_mobilegridcell_6',
        'mobileimage_67': 'Home_mobileimage_67',
        'mobilelabel_88': 'Home_mobilelabel_88',
        'store_volunteer_cell': 'Home_store_volunteer_cell',
        'mobileimage_93': 'Home_mobileimage_93',
        'mobilelabel_94': 'Home_mobilelabel_94',
        'mobilegridcell_92': 'Home_mobilegridcell_92',
        'mobilegrid_89': 'Home_mobilegrid_89',
        'mobilegridcell_90': 'Home_mobilegridcell_90',
        'showOrders': 'Home_showOrders',
        'updateStudentPoints': 'Home_updateStudentPoints',
        'manageStudents': 'Home_manageStudents',
        'mobilebutton_71': 'Home_mobilebutton_71',
        'evalPodButton': 'Home_evalPodButton',
        'inventory': 'Home_inventory',
        'myAttendance': 'Home_myAttendance',
        'mobilenavbar_14': 'Home_mobilenavbar_14',
        'logout': 'Home_logout',
        'home_home': 'Home_home_home',
        'account_home': 'Home_account_home',
        'mobilelabel_36': 'Home_mobilelabel_36',
        'mobilelabel_35': 'Home_mobilelabel_35',
        'mobilelabel_38': 'Home_mobilelabel_38',
        'mobilegrid_43': 'Home_mobilegrid_43',
        'mobilegridcell_44': 'Home_mobilegridcell_44',
        'mobilelabel_49': 'Home_mobilelabel_49',
        'mobilegridcell_45': 'Home_mobilegridcell_45',
        'mobilelabel_50': 'Home_mobilelabel_50',
        'mobilegridcell_48': 'Home_mobilegridcell_48',
        'mobilelabel_61': 'Home_mobilelabel_61',
        'mobilegridcell_60': 'Home_mobilegridcell_60',
        'mobilelabel_62': 'Home_mobilelabel_62',
        'mobilegrid_51': 'Home_mobilegrid_51',
        'mobilegridcell_52': 'Home_mobilegridcell_52',
        'dateLabel': 'Home_dateLabel',
        'mobilegridcell_53': 'Home_mobilegridcell_53',
        'attendanceLabel': 'Home_attendanceLabel',
        'mobilegridcell_56': 'Home_mobilegridcell_56',
        'participation': 'Home_participation',
        'mobilegridcell_59': 'Home_mobilegridcell_59',
        'project': 'Home_project',
        'mobilelabel_73': 'Home_mobilelabel_73',
        'mobilelabel_74': 'Home_mobilelabel_74',
        'feedbackText': 'Home_feedbackText',
        'phoneNumber_input': 'Home_phoneNumber_input',
        'mobilebutton_76': 'Home_mobilebutton_76',
        'success': 'Home_success'
    };
    if ("n2id" in window && window.n2id !== undefined) {
        $.extend(n2id, n2id_buf);
    } else {
        window.n2id = n2id_buf;
    }
    /*
     * Nonvisual components
     */
    Apperyio.mappings = Apperyio.mappings || {};
    Apperyio.mappings["Home_Home_onload_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "myProfile",
                "from_type": "SESSION_STORAGE",
                "to_name": "Home",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['name_f']",
                        "target_transformation": function(value, element) {
                            return "Welcome " + value + "!";
                        },
                        "target": "$['welcomeLabel:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_createAttendance_onbeforesend_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "userProfile_id",
                "from_type": "LOCAL_STORAGE",
                "to_name": "createAttendance",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": {
                        "student_id": {
                            "collName": "User_profile"
                        },
                        "acl": {
                            "*": {
                                "write": true,
                                "read": true
                            }
                        },
                        "attendance": "PRESENT"
                    }
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['body']['student_id']['_id']"
                    }
                ]
            },
            {
                "to_name": "createAttendance",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": {
                        "student_id": {
                            "collName": "User_profile"
                        },
                        "acl": {
                            "*": {
                                "write": true,
                                "read": true
                            }
                        },
                        "attendance": "PRESENT"
                    }
                },
                "mappings": [
                    {
                        "target_transformation": function(value) {
                            var today = new Date();
                            var dd = String(today.getDate()).padStart(2, '0');
                            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
                            var yyyy = today.getFullYear();
                            today = yyyy + '-' + mm + '-' + dd;
                            return today;
                        },
                        "target": "$['body']['date']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_queryIfAttendanceAlready_onbeforesend_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "to_name": "queryIfAttendanceAlready",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "student_id,student_id.user_id,student_id.user_id.to_profile,student_id.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.learningPod",
                        "sort": "-_createdAt"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "target_transformation": function(value) {
                            var today = new Date();
                            var dd = String(today.getDate()).padStart(2, '0');
                            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
                            var yyyy = today.getFullYear();
                            today = yyyy + '-' + mm + '-' + dd;
                            return {
                                $and: [{
                                    "date": today
                                }, {
                                    "student_id._id": Apperyio.storage.userProfile_id.get()
                                }]
                            };
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_updatePoints_onbeforesend_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "userProfile_id",
                "from_type": "LOCAL_STORAGE",
                "to_name": "updatePoints",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": {
                        "acl": {
                            "*": {
                                "write": true,
                                "read": true
                            }
                        }
                    }
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['parameters']['_id']"
                    }
                ]
            },
            {
                "from_name": "myPoints",
                "from_type": "LOCAL_STORAGE",
                "to_name": "updatePoints",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": {
                        "acl": {
                            "*": {
                                "write": true,
                                "read": true
                            }
                        }
                    }
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['body']['points']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_queryMyAttendance_onsuccess_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "queryMyAttendance",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "Home",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]['date']",
                        "target": "$['mobilegrid_51']['dateLabel:text']"
                    },
                    {
                        "source": "$['body'][i]['attendance']",
                        "target": "$['mobilegrid_51']['attendanceLabel:text']"
                    },
                    {
                        "source": "$['body'][i]",
                        "target": "$['mobilegrid_51']"
                    },
                    {
                        "source": "$['body'][i]['participationPoints']",
                        "target_transformation": function(value, element) {
                            if (!value) {
                                return "";
                            } else {
                                return value;
                            }
                        },
                        "target": "$['mobilegrid_51']['participation:text']"
                    },
                    {
                        "source": "$['body'][i]['projectPoints']",
                        "target_transformation": function(value, element) {
                            if (!value) {
                                return "";
                            } else {
                                return value;
                            }
                        },
                        "target": "$['mobilegrid_51']['project:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_queryMyAttendance_onbeforesend_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "userProfile_id",
                "from_type": "LOCAL_STORAGE",
                "to_name": "queryMyAttendance",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "student_id,student_id.user_id,student_id.user_id.to_profile,student_id.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.learningPod",
                        "sort": "-_createdAt"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target_transformation": function(value) {
                            return {
                                "student_id._id": value
                            };
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_logout_onsuccess_mapping_0"] = {
        "homeScreen": "Home",
        "directions": []
    };
    Apperyio.mappings["Home_logout_onbeforesend_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "sessionToken",
                "from_type": "LOCAL_STORAGE",
                "to_name": "logout",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {},
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['headers']['X-Appery-Session-Token']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["Home_uploadFeedback_onbeforesend_mapping_0"] = {
        "homeScreen": "Home",
        "directions": [
            {
                "from_name": "userProfile_id",
                "from_type": "LOCAL_STORAGE",
                "to_name": "uploadFeedback",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target_transformation": function(value) {
                            return value ? {
                                "collName": "User_profile",
                                "_id": value
                            } : null;
                        },
                        "target": "$['body']['user_id']"
                    }
                ]
            },
            {
                "from_name": "Home",
                "from_type": "UI",
                "to_name": "uploadFeedback",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$['feedbackText:text']",
                        "target": "$['body']['feedbackMessage']"
                    },
                    {
                        "source": "$['phoneNumber_input:text']",
                        "target": "$['body']['phoneNumber']"
                    }
                ]
            }
        ]
    };
    Apperyio.datasources = Apperyio.datasources || {};
    window.createAttendance = Apperyio.datasources.createAttendance = new Apperyio.DataSource(stemguyana_Attendance_create_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_createAttendance_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio("attendanceButton").addClass("attendanceIconClicked");
            Apperyio("attendLabel").text("Attendance Saved");
            var myPoints = Apperyio.storage.myPoints.get();
            var updatedPoints = myPoints + 10;
            Apperyio.storage.myPoints.set(updatedPoints);;
            try {
                updatePoints.execute({});
            } catch (e) {
                console.error(e);
                hideSpinner();
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.queryIfAttendanceAlready = Apperyio.datasources.queryIfAttendanceAlready = new Apperyio.DataSource(stemguyana_Attendance_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_queryIfAttendanceAlready_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            if (data && data.length) {
                Apperyio("alreadyGrid").show();
            } else {
                Apperyio("alreadyGrid").hide();
                createAttendance.execute();
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.updatePoints = Apperyio.datasources.updatePoints = new Apperyio.DataSource(stemguyana_User_profile_update_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_updatePoints_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            var popupElement = Apperyio("plusTenPopUp");
            if (popupElement.popup("option", "positionTo") === "origin") {
                popupElement.popup("open", {
                    transition: "pop",
                    positionTo: "#" + $(this).attr("id")
                });
            } else {
                popupElement.popup("open", {
                    transition: "pop"
                });
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.queryMyAttendance = Apperyio.datasources.queryMyAttendance = new Apperyio.DataSource(stemguyana_Attendance_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_queryMyAttendance_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_queryMyAttendance_onsuccess_mapping_0"]);
            var popupElement = Apperyio("mobilepopup_41");
            if (popupElement.popup("option", "positionTo") === "origin") {
                popupElement.popup("open", {
                    transition: "pop",
                    positionTo: "#" + $(this).attr("id")
                });
            } else {
                popupElement.popup("open", {
                    transition: "pop"
                });
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.logout = Apperyio.datasources.logout = new Apperyio.DataSource(stemguyana_logout_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_logout_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_logout_onsuccess_mapping_0"]);
            Apperyio.navigateTo('Splash', {
                reverse: false
            });
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.uploadFeedback = Apperyio.datasources.uploadFeedback = new Apperyio.DataSource(stemguyana_Feedback_create_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Home_uploadFeedback_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio("success").show();
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    Apperyio.CurrentScreen = 'Home';
    _.chain(Apperyio.mappings)
        .filter(function(m) {
            return m.homeScreen === Apperyio.CurrentScreen;
        })
        .each(Apperyio.UIHandler.hideTemplateComponents);
    /*
     * Events and handlers
     */
    // On Load
    var Home_onLoad = function() {
        Home_elementsExtraJS();
        Apperyio.processMappingAction(Apperyio.mappings["Home_Home_onload_mapping_0"]);
        $('div[dsid="mobilecontainer"]').css('background-image',
            'url(' + Appery.getImagePath('Artboard_1.png') + ')');
        $('div[dsid="mobilecontainer"]').css('background-size', '100% 100%');
        $('div[dsid="mobilecontainer"]').css('background-position', 'center');
        $('div[dsid="mobilecontainer"]').css('background-repeat', 'no-repeat');;
        var adminID = Apperyio.storage.myUser_id.get();
        var me = Apperyio.storage.myProfile.get();
        if (me.accountType === "Admin") {
            Apperyio("showOrders").show();
            Apperyio("updateStudentPoints").show();
            Apperyio("pointsGrid").show();
            Apperyio("studentPayments").show();
            Apperyio("adminButton").show();
            Apperyio("manageStudents").show();
            Apperyio("evalPodButton").show();
            Apperyio("inventory").show();
        } else if (me.accountType === "VAC") {
            Apperyio("showOrders").show();
            Apperyio("updateStudentPoints").show();
            Apperyio("studentPayments").show();
            Apperyio("evalPodButton").hide();
            Apperyio("manageStudents").show();
            Apperyio("inventory").hide();
        } else if (me.accountType === "Evaluator") {
            Apperyio("evalPodButton").show();
        } else if (me.accountType === "Coach") {
            Apperyio("manageStudents").show();
            Apperyio("evalPodButton").hide();
            Apperyio("inventory").show();
        } else {
            Apperyio("showOrders").hide();
            Apperyio("updateStudentPoints").hide();
            Apperyio("studentPayments").hide();
            Apperyio("adminButton").hide();
            Apperyio("evalPodButton").hide();
            Apperyio("inventory").hide();
        }
        var myProfile = Apperyio.storage.myProfile.get();;
        Home_deviceEvents();
        Home_windowEvents();
        Home_elementsEvents();
    };
    // screen window events
    function Home_windowEvents() {
        $('#Home').bind('pageshow orientationchange', function() {
            var _page = this;
            adjustContentHeightWithPadding(_page);
        });
        $('#Home').on({
            pageshow: function(event) {
                if (!Apperyio.storage.myPoints.get()) {
                    Apperyio("myPoints").text("0 Points");
                } else {
                    Apperyio("myPoints").text("Your Points: " + Apperyio.storage.myPoints.get() + "pts");
                }
                if (Apperyio.storage.myProgram.get() === "Summer Camp") {
                    Apperyio("pointsGrid").show();
                } else if (Apperyio.storage.myProgram.get() === "STEM Club") {
                    Apperyio("pointsGrid").show();
                } else if (Apperyio.storage.myProgram.get() === "Virtual Academy") {
                    Apperyio("pointsGrid").show();
                } else if (Apperyio.storage.myProgram.get() === "Learning Pod") {
                    Apperyio("pointsGrid").show();
                } else {
                    Apperyio("pointsGrid").hide();
                }
                var me = Apperyio.storage.myProfile.get();
                Apperyio("accountTypeDisplay").text(Apperyio.storage.myProgram.get() + " • " + me.accountType);
                var accountType = Apperyio.storage.myProfile.get("$['accountType']");
                var foodStoreAccess = Apperyio.storage.myProfile.get("$['foodStoreAccess']");
                if (accountType === "Admin" ||
                    ((accountType === "Coach" || accountType === "Volunteer" || accountType === "Evaluator") && foodStoreAccess)) {
                    $("#Home_store_volunteer_cell").show();
                } else {
                    $("#Home_store_volunteer_cell").hide();
                };
            },
        });
    };
    // device events
    function Home_deviceEvents() {
        document.addEventListener("deviceready", function() {
        });
    };
    // screen elements extra js
    function Home_elementsExtraJS() {
        // screen (Home) extra code
        /* plusTenPopUp */
        $("#Home_plusTenPopUp").popup("option", "positionTo", "window");
        /* mobilepopup_41 */
        $("#Home_mobilepopup_41").popup("option", "positionTo", "window");
        /* feedbackPopup */
        $("#Home_feedbackPopup").popup("option", "positionTo", "window");
    };
    // screen elements handler
    function Home_elementsEvents() {
        $(document).on("click", "a :input,a a,a fieldset label", function(event) {
            event.stopPropagation();
        });
        $(document).off("click", '#Home_mobilecontainer [name="mobilegridcell_80"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        queryIfAttendanceAlready.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                }
            },
        }, '#Home_mobilecontainer [name="mobilegridcell_80"]');
        $(document).off("tap", '#Home_mobilecontainer [name="attendanceButton"]').on({
            tap: function(event) {
                try {
                    queryIfAttendanceAlready.execute({});
                } catch (e) {
                    console.error(e);
                    hideSpinner();
                };
                event.stopPropagation();
                return false;
            },
        }, '#Home_mobilecontainer [name="attendanceButton"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobilegridcell_84"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        queryIfAttendanceAlready.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                }
            },
        }, '#Home_mobilecontainer [name="mobilegridcell_84"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobilegridcell_3"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio.navigateTo('Lessons', {
                        reverse: false
                    });
                }
            },
        }, '#Home_mobilecontainer [name="mobilegridcell_3"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobileimage_64"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio.navigateTo('Lessons', {
                        reverse: false
                    });
                }
            },
        }, '#Home_mobilecontainer [name="mobileimage_64"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobilegridcell_4"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio.navigateTo('Assessments', {
                        reverse: false
                    });
                }
            },
        }, '#Home_mobilecontainer [name="mobilegridcell_4"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobilegridcell_5"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var me = Apperyio.storage.myProfile.get();
                    if (me.accountType === "Admin") {
                        Apperyio.navigateTo("payment", {});
                    } else {
                        alert("Sorry, you don't have access to this feature");
                    };
                }
            },
        }, '#Home_mobilecontainer [name="mobilegridcell_5"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobilegridcell_6"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var program = Apperyio.storage.myProgram.get();
                    var me = Apperyio.storage.myProfile.get();
                    if (program === "Learning Pod") {
                        if (me.accountType === "Volunteer" || me.accountType === "Evaluator") {
                            alert("Sorry, only learning pod students have access to this store");
                        } else if (me.accountType === "Teacher") {
                            alert("Sorry, only learning pod students have access to this store");
                        } else {
                            Apperyio.navigateTo("store", {});
                        }
                    } else {
                        alert("Sorry, only learning pod students have access to this store");
                    };
                }
            },
        }, '#Home_mobilecontainer [name="mobilegridcell_6"]');
        $(document).off("click", '#Home_mobilecontainer [name="store_volunteer_cell"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio.navigateTo('store_volunteer', {
                        reverse: false
                    });
                }
            },
        }, '#Home_mobilecontainer [name="store_volunteer_cell"]');
        $(document).off("tap", '#Home_mobilecontainer [name="showOrders"]').on({
            tap: function(event) {
                var me = Apperyio.storage.myProfile.get();
                if (me.accountType === "Admin" || me.accountType === "Coach") {
                    Apperyio.navigateTo("orderDisplay", {});
                } else {
                    alert("Sorry, you don't have access to this feature");
                };
                event.stopPropagation();
                return false;
            },
        }, '#Home_mobilecontainer [name="showOrders"]');
        $(document).off("click", '#Home_mobilecontainer [name="updateStudentPoints"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var me = Apperyio.storage.myProfile.get();
                    if (me.accountType === "Admin" || me.accountType === "Coach") {
                        Apperyio.navigateTo("updateStudentPoints", {});
                    } else {
                        alert("Sorry, you don't have access to this feature");
                    };
                }
            },
        }, '#Home_mobilecontainer [name="updateStudentPoints"]');
        $(document).off("click", '#Home_mobilecontainer [name="manageStudents"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var me = Apperyio.storage.myProfile.get();
                    if (me.accountType === "Coach" || me.accountType === "Admin") {
                        Apperyio.navigateTo("addMyStudents", {});
                    } else {
                        alert("Sorry, you don't have access to this feature");
                    };
                }
            },
        }, '#Home_mobilecontainer [name="manageStudents"]');
        $(document).off("click", '#Home_mobilecontainer [name="mobilebutton_71"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio("feedbackText").val("");
                    Apperyio("phoneNumber_input").val("");
                    Apperyio("success").hide();
                    var popupElement = Apperyio("feedbackPopup");
                    if (popupElement.popup("option", "positionTo") === "origin") {
                        popupElement.popup("open", {
                            transition: "slideup",
                            positionTo: "#" + $(this).attr("id")
                        });
                    } else {
                        popupElement.popup("open", {
                            transition: "slideup"
                        });
                    };
                }
            },
        }, '#Home_mobilecontainer [name="mobilebutton_71"]');
        $(document).off("click", '#Home_mobilecontainer [name="evalPodButton"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var me = Apperyio.storage.myProfile.get();
                    if (me.accountType === "Evaluator" || me.accountType === "Volunteer" || me.accountType === "Admin") {
                        Apperyio.navigateTo("evaluatePod", {});
                    } else {
                        alert("Sorry, you don't have access to this feature");
                    };
                }
            },
        }, '#Home_mobilecontainer [name="evalPodButton"]');
        $(document).off("click", '#Home_mobilecontainer [name="inventory"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio.navigateTo('podInventory', {
                        reverse: false
                    });
                }
            },
        }, '#Home_mobilecontainer [name="inventory"]');
        $(document).off("tap", '#Home_mobilecontainer [name="myAttendance"]').on({
            tap: function(event) {
                try {
                    queryMyAttendance.execute({});
                } catch (e) {
                    console.error(e);
                    hideSpinner();
                };
                event.stopPropagation();
                return false;
            },
        }, '#Home_mobilecontainer [name="myAttendance"]');
        $(document).off("click", '#Home_mobilefooter [name="logout"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        logout.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                }
            },
        }, '#Home_mobilefooter [name="logout"]');
        $(document).off("click", '#Home_mobilefooter [name="home_home"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var me = Apperyio.storage.myProfile.get();
                    if (me.accountType === "Admin") {
                        Apperyio.navigateTo("Reports", {});
                    } else if (me.accountType === "Student") {
                        Apperyio.navigateTo("assessmentReportStudent", {});
                    } else if (me.accountType === "Coach") {
                        Apperyio.navigateTo("Reports", {});
                    } else if (me.accountType === "Evaluator") {
                        Apperyio.navigateTo("Reports", {});
                    } else if (me.accountType === "Volunteer") {
                        alert("Sorry, you don't have access to this");
                    } else if (me.accountType === "Parent Academy") {
                        alert("Sorry, you don't have access to this");
                    } else {
                        alert("Sorry, you don't have access to this");
                    };
                }
            },
        }, '#Home_mobilefooter [name="home_home"]');
        $(document).off("click", '#Home_mobilefooter [name="account_home"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var me = Apperyio.storage.myProfile.get();
                    if (me.accountType === "Admin") {
                        Apperyio.navigateTo("adminDash", {});
                    } else {
                        alert("Sorry, this is admin only");
                    };
                }
            },
        }, '#Home_mobilefooter [name="account_home"]');
        $(document).off("click", '#Home_feedbackPopup [name="mobilebutton_76"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        uploadFeedback.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                }
            },
        }, '#Home_feedbackPopup [name="mobilebutton_76"]');
    };
    $(document).off("pagebeforeshow", "#Home").on("pagebeforeshow", "#Home", function(event, ui) {
        Apperyio.CurrentScreen = "Home";
        _.chain(Apperyio.mappings)
            .filter(function(m) {
                return m.homeScreen === Apperyio.CurrentScreen;
            })
            .each(Apperyio.UIHandler.hideTemplateComponents);
    });
    Home_onLoad();
};
$(document).off("pagecreate", "#Home").on("pagecreate", "#Home", function(event, ui) {
    Apperyio.processSelectMenu($(this));
    Home_js();
});