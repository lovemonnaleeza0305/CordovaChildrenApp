/*
 * JS for addMyStudents generated by Appery.io
 */
Apperyio.getProjectGUID = function() {
    return '5df45570-e9a1-479d-978b-deb350f290d0';
};

function navigateTo(outcome, useAjax) {
    Apperyio.navigateTo(outcome, useAjax);
}

function adjustContentHeight() {
    Apperyio.adjustContentHeightWithPadding();
}

function adjustContentHeightWithPadding(_page) {
    Apperyio.adjustContentHeightWithPadding(_page);
}

function setDetailContent(pageUrl) {
    Apperyio.setDetailContent(pageUrl);
}
Apperyio.AppPages = [{
    "name": "PDFPreview",
    "location": "PDFPreview.html"
}, {
    "name": "addMyStudents",
    "location": "addMyStudents.html"
}, {
    "name": "Attendance",
    "location": "Attendance.html"
}, {
    "name": "store_volunteer",
    "location": "store_volunteer.html"
}, {
    "name": "payment",
    "location": "payment.html"
}, {
    "name": "Home",
    "location": "Home.html"
}, {
    "name": "podInventory",
    "location": "podInventory.html"
}, {
    "name": "orderDisplay",
    "location": "orderDisplay.html"
}, {
    "name": "Reading",
    "location": "Reading.html"
}, {
    "name": "adminCheckAttendance",
    "location": "adminCheckAttendance.html"
}, {
    "name": "evaluatePod",
    "location": "evaluatePod.html"
}, {
    "name": "Lessons",
    "location": "Lessons.html"
}, {
    "name": "Assessment",
    "location": "Assessment.html"
}, {
    "name": "register",
    "location": "register.html"
}, {
    "name": "registerProfile",
    "location": "registerProfile.html"
}, {
    "name": "store",
    "location": "store.html"
}, {
    "name": "paymentHistories",
    "location": "paymentHistories.html"
}, {
    "name": "Reports",
    "location": "Reports.html"
}, {
    "name": "Assessments",
    "location": "Assessments.html"
}, {
    "name": "AdminFeedback",
    "location": "AdminFeedback.html"
}, {
    "name": "searchPodEvaluations",
    "location": "searchPodEvaluations.html"
}, {
    "name": "orderDisplay_food",
    "location": "orderDisplay_food.html"
}, {
    "name": "Login",
    "location": "Login.html"
}, {
    "name": "adminDash",
    "location": "adminDash.html"
}, {
    "name": "assessmentReportStudent",
    "location": "assessmentReportStudent.html"
}, {
    "name": "updateStudentPoints",
    "location": "updateStudentPoints.html"
}, {
    "name": "Splash",
    "location": "Splash.html"
}, {
    "name": "foodStoreAccess",
    "location": "foodStoreAccess.html"
}];

function addMyStudents_js() {
    /* Object & array with components "name-to-id" mapping */
    var n2id_buf = {
        'mobilegrid_136': 'addMyStudents_mobilegrid_136',
        'mobilegridcell_137': 'addMyStudents_mobilegridcell_137',
        'mobilebutton_141': 'addMyStudents_mobilebutton_141',
        'mobilegridcell_138': 'addMyStudents_mobilegridcell_138',
        'mobilelabel_41': 'addMyStudents_mobilelabel_41',
        'mobilelabel_35': 'addMyStudents_mobilelabel_35',
        'podSelectMenu': 'addMyStudents_podSelectMenu',
        'podSelectMenu-0': 'addMyStudents_podSelectMenu-0',
        'mobilelabel_153': 'addMyStudents_mobilelabel_153',
        'regionSelectMenu': 'addMyStudents_regionSelectMenu',
        'regionSelectMenu-0': 'addMyStudents_regionSelectMenu-0',
        'resultsLabel': 'addMyStudents_resultsLabel',
        'podChose': 'addMyStudents_podChose',
        'mobilegrid_2': 'addMyStudents_mobilegrid_2',
        'mobilegridcell_3': 'addMyStudents_mobilegridcell_3',
        'mobilelabel_8': 'addMyStudents_mobilelabel_8',
        'mobilegridcell_7': 'addMyStudents_mobilegridcell_7',
        'mobilelabel_9': 'addMyStudents_mobilelabel_9',
        'mobilegridcell_10': 'addMyStudents_mobilegridcell_10',
        'mobilelabel_11': 'addMyStudents_mobilelabel_11',
        'mobilegridcell_57': 'addMyStudents_mobilegridcell_57',
        'searchResultGrid': 'addMyStudents_searchResultGrid',
        'mobilegridcell_26': 'addMyStudents_mobilegridcell_26',
        'searchResultName': 'addMyStudents_searchResultName',
        'searchResultLastName': 'addMyStudents_searchResultLastName',
        'podName': 'addMyStudents_podName',
        'mobilegridcell_27': 'addMyStudents_mobilegridcell_27',
        'searchResultPhone': 'addMyStudents_searchResultPhone',
        'mobilegridcell_30': 'addMyStudents_mobilegridcell_30',
        'searchResultGrade': 'addMyStudents_searchResultGrade',
        'mobilegridcell_36': 'addMyStudents_mobilegridcell_36',
        'addButton': 'addMyStudents_addButton',
        'mobilelabel_40': 'addMyStudents_mobilelabel_40',
        'mobilegrid_58': 'addMyStudents_mobilegrid_58',
        'mobilegridcell_59': 'addMyStudents_mobilegridcell_59',
        'mobilelabel_64': 'addMyStudents_mobilelabel_64',
        'mobilegridcell_60': 'addMyStudents_mobilegridcell_60',
        'mobilelabel_66': 'addMyStudents_mobilelabel_66',
        'mobilegridcell_63': 'addMyStudents_mobilegridcell_63',
        'mobilelabel_68': 'addMyStudents_mobilelabel_68',
        'mobilegridcell_67': 'addMyStudents_mobilegridcell_67',
        'existingStudentGrid': 'addMyStudents_existingStudentGrid',
        'mobilegridcell_13': 'addMyStudents_mobilegridcell_13',
        'studentName_f': 'addMyStudents_studentName_f',
        'studentName_l': 'addMyStudents_studentName_l',
        'mobilegridcell_14': 'addMyStudents_mobilegridcell_14',
        'villageLabel': 'addMyStudents_villageLabel',
        'mobilegridcell_17': 'addMyStudents_mobilegridcell_17',
        'pointsNumber': 'addMyStudents_pointsNumber',
        'mobilegridcell_69': 'addMyStudents_mobilegridcell_69',
        'moreButton': 'addMyStudents_moreButton',
        'studentNamePopup': 'addMyStudents_studentNamePopup',
        'student_usern': 'addMyStudents_student_usern',
        'phoneNumber': 'addMyStudents_phoneNumber',
        'program': 'addMyStudents_program',
        'grade': 'addMyStudents_grade',
        'mobilebutton_142': 'addMyStudents_mobilebutton_142',
        'mobilegrid_143': 'addMyStudents_mobilegrid_143',
        'mobilegridcell_144': 'addMyStudents_mobilegridcell_144',
        'mobilelabel_150': 'addMyStudents_mobilelabel_150',
        'PR_username': 'addMyStudents_PR_username',
        'mobilelabel_151': 'addMyStudents_mobilelabel_151',
        'PR_password': 'addMyStudents_PR_password',
        'mobilebutton_152': 'addMyStudents_mobilebutton_152',
        'successLabel': 'addMyStudents_successLabel',
        'mobilegrid_89': 'addMyStudents_mobilegrid_89',
        'mobilegridcell_90': 'addMyStudents_mobilegridcell_90',
        'attendance': 'addMyStudents_attendance',
        'mobilegridcell_91': 'addMyStudents_mobilegridcell_91',
        'lessons': 'addMyStudents_lessons',
        'attendanceGrid': 'addMyStudents_attendanceGrid',
        'mobilegridcell_97': 'addMyStudents_mobilegridcell_97',
        'totalAttendance': 'addMyStudents_totalAttendance',
        'mobilegrid_101': 'addMyStudents_mobilegrid_101',
        'mobilegridcell_102': 'addMyStudents_mobilegridcell_102',
        'mobilelabel_106': 'addMyStudents_mobilelabel_106',
        'mobilegridcell_103': 'addMyStudents_mobilegridcell_103',
        'mobilelabel_107': 'addMyStudents_mobilelabel_107',
        'repeatAttendanceGrid': 'addMyStudents_repeatAttendanceGrid',
        'mobilegridcell_109': 'addMyStudents_mobilegridcell_109',
        'date': 'addMyStudents_date',
        'mobilegridcell_110': 'addMyStudents_mobilegridcell_110',
        'status': 'addMyStudents_status',
        'lessonsGrid': 'addMyStudents_lessonsGrid',
        'mobilegridcell_115': 'addMyStudents_mobilegridcell_115',
        'lessonsCompleteLabel': 'addMyStudents_lessonsCompleteLabel',
        'mobilegrid_120': 'addMyStudents_mobilegrid_120',
        'mobilegridcell_121': 'addMyStudents_mobilegridcell_121',
        'mobilelabel_125': 'addMyStudents_mobilelabel_125',
        'mobilegridcell_122': 'addMyStudents_mobilegridcell_122',
        'mobilelabel_126': 'addMyStudents_mobilelabel_126',
        'lessonsGridRepeat': 'addMyStudents_lessonsGridRepeat',
        'mobilegridcell_128': 'addMyStudents_mobilegridcell_128',
        'subject': 'addMyStudents_subject',
        'mobilegridcell_129': 'addMyStudents_mobilegridcell_129',
        'topic': 'addMyStudents_topic',
        'mobilegridcell_134': 'addMyStudents_mobilegridcell_134',
        'mobilelabel_135': 'addMyStudents_mobilelabel_135'
    };
    if ("n2id" in window && window.n2id !== undefined) {
        $.extend(n2id, n2id_buf);
    } else {
        window.n2id = n2id_buf;
    }
    /*
     * Nonvisual components
     */
    Apperyio.mappings = Apperyio.mappings || {};
    Apperyio.mappings["addMyStudents_queryMyStudents_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "queryMyStudents",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "addMyStudents",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]['student_id']['name_f']",
                        "target": "$['existingStudentGrid']['studentName_f:text']"
                    },
                    {
                        "source": "$['body'][i]['student_id']['name_l']",
                        "target": "$['existingStudentGrid']['studentName_l:text']"
                    },
                    {
                        "source": "$['body'][i]",
                        "target_transformation": function(value, element) {
                            $(element).find("[name=moreButton]").attr("data-studentID", value.student_id._id);
                            $(element).find("[name=moreButton]").attr("data-firstName", value.student_id.name_f);
                            $(element).find("[name=moreButton]").attr("data-phone", value.student_id.phone);
                            $(element).find("[name=moreButton]").attr("data-grade", value.student_id.grade);
                            $(element).find("[name=moreButton]").attr("data-program", value.student_id.program);
                            $(element).find("[name=moreButton]").attr("data-userID", value.student_id.user_id.username);
                        },
                        "target": "$['existingStudentGrid']"
                    },
                    {
                        "source": "$['body'][i]['student_id']['grade']",
                        "target_transformation": function(value, element) {
                            if (!value) {
                                return "-";
                            } else {
                                return value;
                            }
                        },
                        "target": "$['existingStudentGrid']['villageLabel:text']"
                    },
                    {
                        "source": "$['body'][i]['student_id']['points']",
                        "target_transformation": function(value, element) {
                            if (!value) {
                                return "";
                            } else {
                            }
                        },
                        "target": "$['existingStudentGrid']['pointsNumber:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryMyStudents_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "userProfile_id",
                "from_type": "LOCAL_STORAGE",
                "to_name": "queryMyStudents",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "coach_id,coach_id.user_id,coach_id.user_id.to_profile,coach_id.user_id.to_profile.user_id,coach_id.user_id.to_profile.user_id.to_profile,coach_id.user_id.to_profile.user_id.to_profile.user_id,coach_id.user_id.to_profile.user_id.to_profile.user_id.to_profile,coach_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,coach_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id,student_id.user_id,student_id.user_id.to_profile,student_id.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target_transformation": function(value) {
                            return {
                                "$and": [{
                                    "coach_id._id": value
                                }, {
                                    "student_id": {
                                        "$notInQuery": {
                                            "accountType": "Volunteer"
                                        }
                                    }
                                }, {
                                    "student_id": {
                                        "$notInQuery": {
                                            "accountType": "Coach"
                                        }
                                    }
                                }, {
                                    "student_id": {
                                        "$notInQuery": {
                                            "accountType": "Teacher"
                                        }
                                    }
                                }]
                            };
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryUserProfile_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "queryUserProfile",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "addMyStudents",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]",
                        "target_transformation": function(value, element) {
                            $(element).find("[name=addButton]").attr("data-chosenStudent", value._id);
                            var myStudents = Apperyio.storage.myStudents.get();
                            if (myStudents.includes(value._id) === true) {
                                $(element).find("[name=addButton]").addClass("alreadyAdded");
                                $(element).find("[name=addButton]").text("Added");
                                $(element).find("[name=addButton]").addClass("ui-disabled");
                            } else {
                            }
                        },
                        "target": "$['searchResultGrid']"
                    },
                    {
                        "source": "$['body'][i]['name_f']",
                        "target": "$['searchResultGrid']['searchResultName:text']"
                    },
                    {
                        "source": "$['body'][i]['name_l']",
                        "target": "$['searchResultGrid']['searchResultLastName:text']"
                    },
                    {
                        "source": "$['body'][i]['phone']",
                        "target": "$['searchResultGrid']['searchResultPhone:text']"
                    },
                    {
                        "source": "$['body'][i]['grade']",
                        "target_transformation": function(value, element) {
                            if (!value) {
                                return "-";
                            } else {
                                return value;
                            }
                        },
                        "target": "$['searchResultGrid']['searchResultGrade:text']"
                    },
                    {
                        "source": "$['body'][i]['learningPod']['podName']",
                        "target": "$['searchResultGrid']['podName:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryUserProfile_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "addMyStudents",
                "from_type": "UI",
                "to_name": "queryUserProfile",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "user_id,user_id.to_profile,user_id.to_profile.user_id,user_id.to_profile.user_id.to_profile,user_id.to_profile.user_id.to_profile.user_id,user_id.to_profile.user_id.to_profile.user_id.to_profile,user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,learningPod",
                        "sort": "name_f",
                        "limit": "500"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$['regionSelectMenu:selectedMenuItem']",
                        "target_transformation": function(value) {
                            var me = Apperyio.storage.myProfile.get();
                            if (me.accountType === "VAC") {
                                return {
                                    "program": "Virtual Academy"
                                };
                            } else {
                                return {
                                    "$and": [{
                                        "status": "active"
                                    }, {
                                        "region": {
                                            "$regex": value,
                                            "$options": "i"
                                        }
                                    }, {
                                        "program": "Learning Pod"
                                    }]
                                };
                            }
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_createCoachConnection_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": []
    };
    Apperyio.mappings["addMyStudents_createCoachConnection_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "userProfile_id",
                "from_type": "LOCAL_STORAGE",
                "to_name": "createCoachConnection",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": {
                        "coach_id": {
                            "collName": "User_profile"
                        },
                        "student_id": {
                            "collName": "User_profile"
                        },
                        "acl": {
                            "*": {
                                "write": true,
                                "read": true
                            }
                        }
                    }
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['body']['coach_id']['_id']"
                    }
                ]
            },
            {
                "from_name": "studentIDToAdd",
                "from_type": "SESSION_STORAGE",
                "to_name": "createCoachConnection",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {
                        "full_object": "false"
                    },
                    "body": {
                        "coach_id": {
                            "collName": "User_profile"
                        },
                        "student_id": {
                            "collName": "User_profile"
                        },
                        "acl": {
                            "*": {
                                "write": true,
                                "read": true
                            }
                        }
                    }
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['body']['student_id']['_id']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryStudentAttendance_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "queryStudentAttendance",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "addMyStudents",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]",
                        "target": "$['repeatAttendanceGrid']"
                    },
                    {
                        "source": "$['body'][i]['date']",
                        "target": "$['repeatAttendanceGrid']['date:text']"
                    },
                    {
                        "source": "$['body'][i]['attendance']",
                        "target": "$['repeatAttendanceGrid']['status:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryStudentAttendance_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "currentStudentProfileID",
                "from_type": "LOCAL_STORAGE",
                "to_name": "queryStudentAttendance",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "student_id,student_id.user_id,student_id.user_id.to_profile,student_id.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.learningPod",
                        "sort": "-_createdAt"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target_transformation": function(value) {
                            return {
                                "student_id._id": value
                            }
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryCompletedPlans_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "queryCompletedPlans",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "addMyStudents",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]",
                        "target": "$['lessonsGridRepeat']"
                    },
                    {
                        "source": "$['body'][i]['lessonPlan_id']['subject']",
                        "target": "$['lessonsGridRepeat']['subject:text']"
                    },
                    {
                        "source": "$['body'][i]['lessonPlan_id']['topic']",
                        "target": "$['lessonsGridRepeat']['topic:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryCompletedPlans_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "currentStudentProfileID",
                "from_type": "LOCAL_STORAGE",
                "to_name": "queryCompletedPlans",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "student_id,student_id.user_id,student_id.user_id.to_profile,student_id.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,student_id.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,lessonPlan_id"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target_transformation": function(value) {
                            return {
                                "student_id._id": value
                            };
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_updateStudentPassword_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "currentStudentUserID",
                "from_type": "SESSION_STORAGE",
                "to_name": "updateStudentPassword",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {},
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$",
                        "target": "$['parameters']['_id']"
                    }
                ]
            },
            {
                "from_name": "addMyStudents",
                "from_type": "UI",
                "to_name": "updateStudentPassword",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}",
                        "Content-Type": "application/json"
                    },
                    "parameters": {},
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$['PR_password:text']",
                        "target": "$['body']['username']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_listPodsStudentMa_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "listPodsStudentMa",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "addMyStudents",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]",
                        "target": "$['podSelectMenu-0']"
                    },
                    {
                        "source": "$['body'][i]['podName']",
                        "target": "$['podSelectMenu-0:label']"
                    },
                    {
                        "source": "$['body'][i]['_id']",
                        "target": "$['podSelectMenu-0:value']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_listPodsStudentMa_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "to_name": "listPodsStudentMa",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "podManager,podManager.user_id,podManager.user_id.to_profile,podManager.user_id.to_profile.user_id,podManager.user_id.to_profile.user_id.to_profile,podManager.user_id.to_profile.user_id.to_profile.user_id,podManager.user_id.to_profile.user_id.to_profile.user_id.to_profile,podManager.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,podManager.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile"
                    },
                    "body": null
                },
                "mappings": []
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryUserProfileByPod_onsuccess_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "queryUserProfileByPod",
                "from_type": "SERVICE_RESPONSE",
                "to_name": "addMyStudents",
                "to_type": "UI",
                "mappings": [
                    {
                        "source": "$['body'][i]",
                        "target_transformation": function(value, element) {
                            $(element).find("[name=addButton]").attr("data-chosenStudent", value._id);
                            var myStudents = Apperyio.storage.myStudents.get();
                            if (myStudents.includes(value._id) === true) {
                                $(element).find("[name=addButton]").addClass("alreadyAdded");
                                $(element).find("[name=addButton]").text("Added");
                                $(element).find("[name=addButton]").addClass("ui-disabled");
                            } else {
                            }
                        },
                        "target": "$['searchResultGrid']"
                    },
                    {
                        "source": "$['body'][i]['name_f']",
                        "target": "$['searchResultGrid']['searchResultName:text']"
                    },
                    {
                        "source": "$['body'][i]['name_l']",
                        "target": "$['searchResultGrid']['searchResultLastName:text']"
                    },
                    {
                        "source": "$['body'][i]['learningPod']['podName']",
                        "target": "$['searchResultGrid']['podName:text']"
                    },
                    {
                        "source": "$['body'][i]['phone']",
                        "target": "$['searchResultGrid']['searchResultPhone:text']"
                    },
                    {
                        "source": "$['body'][i]['grade']",
                        "target_transformation": function(value, element) {
                            if (!value) {
                                return "-";
                            } else {
                                return value;
                            }
                        },
                        "target": "$['searchResultGrid']['searchResultGrade:text']"
                    }
                ]
            }
        ]
    };
    Apperyio.mappings["addMyStudents_queryUserProfileByPod_onbeforesend_mapping_0"] = {
        "homeScreen": "addMyStudents",
        "directions": [
            {
                "from_name": "addMyStudents",
                "from_type": "UI",
                "to_name": "queryUserProfileByPod",
                "to_type": "SERVICE_REQUEST",
                "to_default": {
                    "headers": {
                        "X-Appery-Database-Id": "{database_id}"
                    },
                    "parameters": {
                        "include": "user_id,user_id.to_profile,user_id.to_profile.user_id,user_id.to_profile.user_id.to_profile,user_id.to_profile.user_id.to_profile.user_id,user_id.to_profile.user_id.to_profile.user_id.to_profile,user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile,user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id.to_profile.user_id,learningPod"
                    },
                    "body": null
                },
                "mappings": [
                    {
                        "source": "$['podChose:text']",
                        "target_transformation": function(value) {
                            return {
                                "$and": [{
                                        "status": "active"
                                    }, {
                                        "learningPod._id": value
                                    },
                                    {
                                        "accountType": {
                                            "$ne": "Volunteer"
                                        }
                                    }, {
                                        "accountType": {
                                            "$ne": "Coach"
                                        }
                                    }, {
                                        "accountType": {
                                            "$ne": "Teacher"
                                        }
                                    }
                                ]
                            };
                        },
                        "target": "$['parameters']['where']"
                    }
                ]
            }
        ]
    };
    Apperyio.datasources = Apperyio.datasources || {};
    window.queryMyStudents = Apperyio.datasources.queryMyStudents = new Apperyio.DataSource(stemguyana_CoachAndStudents_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryMyStudents_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryMyStudents_onsuccess_mapping_0"]);
            var myStudents = [];
            for (i = 0; i < data.length; i++) {
                myStudents.push(data[i].student_id._id);
            }
            Apperyio.storage.myStudents.set(myStudents);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {
            alert("Error Updating Password. Please try again later");
        }
    });
    window.queryUserProfile = Apperyio.datasources.queryUserProfile = new Apperyio.DataSource(stemguyana_User_profile_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryUserProfile_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryUserProfile_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.createCoachConnection = Apperyio.datasources.createCoachConnection = new Apperyio.DataSource(stemguyana_CoachAndStudents_create_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_createCoachConnection_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_createCoachConnection_onsuccess_mapping_0"]);
            try {
                queryMyStudents.execute({});
            } catch (e) {
                console.error(e);
                hideSpinner();
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.queryStudentAttendance = Apperyio.datasources.queryStudentAttendance = new Apperyio.DataSource(stemguyana_Attendance_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryStudentAttendance_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryStudentAttendance_onsuccess_mapping_0"]);
            Apperyio("totalAttendance").text(data.length + " Days of Attendance");
            try {
                queryCompletedPlans.execute({});
            } catch (e) {
                console.error(e);
                hideSpinner();
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.queryCompletedPlans = Apperyio.datasources.queryCompletedPlans = new Apperyio.DataSource(stemguyana_lessonPlanCompletion_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryCompletedPlans_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryCompletedPlans_onsuccess_mapping_0"]);
            Apperyio("lessonsCompleteLabel").text(data.length + " total lessons completed");
            var popupElement = Apperyio("moreStudentInfoGrid");
            if (popupElement.popup("option", "positionTo") === "origin") {
                popupElement.popup("open", {
                    transition: "slide",
                    positionTo: "#" + $(this).attr("id")
                });
            } else {
                popupElement.popup("open", {
                    transition: "slide"
                });
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.updateStudentPassword = Apperyio.datasources.updateStudentPassword = new Apperyio.DataSource(stemguyana_user_update_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_updateStudentPassword_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio("successLabel").show();
            Apperyio("mobilegrid_143").hide();
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.listPodsStudentMa = Apperyio.datasources.listPodsStudentMa = new Apperyio.DataSource(stemguyana_LearningPods_list_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_listPodsStudentMa_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_listPodsStudentMa_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    window.queryUserProfileByPod = Apperyio.datasources.queryUserProfileByPod = new Apperyio.DataSource(stemguyana_User_profile_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryUserProfileByPod_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["addMyStudents_queryUserProfileByPod_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });
    Apperyio.CurrentScreen = 'addMyStudents';
    _.chain(Apperyio.mappings)
        .filter(function(m) {
            return m.homeScreen === Apperyio.CurrentScreen;
        })
        .each(Apperyio.UIHandler.hideTemplateComponents);
    /*
     * Events and handlers
     */
    // On Load
    var addMyStudents_onLoad = function() {
        addMyStudents_elementsExtraJS();
        $('div[dsid="mobilecontainer"]').css('background-image',
            'url(' + Appery.getImagePath('Artboard_1.png') + ')');
        $('div[dsid="mobilecontainer"]').css('background-size', '100% auto');
        $('div[dsid="mobilecontainer"]').css('background-color', '#ffffff');
        $('div[dsid="mobilecontainer"]').css('background-position', 'center');
        $('div[dsid="mobilecontainer"]').css('background-repeat', 'no-repeat');
        $('div[dsid="mobilecontainer"]').css('background-position', 'top');
        Apperyio("regionSelectMenu").parent().css("background", "#ffffff");
        Apperyio("regionSelectMenu").parent().css("border-width", "1px");
        Apperyio("regionSelectMenu").parent().css("border-radius", "40px");
        Apperyio("regionSelectMenu").parent().css("border-color", "#ff725e");
        Apperyio("regionSelectMenu").parent().css("color", "#ff725e");
        Apperyio("podSelectMenu").parent().css("background", "#ffffff");
        Apperyio("podSelectMenu").parent().css("border-width", "1px");
        Apperyio("podSelectMenu").parent().css("border-radius", "40px");
        Apperyio("podSelectMenu").parent().css("border-color", "#ff725e");
        Apperyio("podSelectMenu").parent().css("color", "#ff725e");
        Apperyio("PR_username").parent().css("background", "#ffffff");
        Apperyio("PR_username").parent().css("border-color", "#ff725e");
        Apperyio("PR_username").parent().css("border-width", "1px");
        Apperyio("PR_username").parent().css("color", "#ff725e");
        Apperyio("PR_username").parent().css("font-size", "14px");
        Apperyio("PR_username").parent().css("border-radius", "15px");
        Apperyio("PR_username").parent().css("padding-top", "5px");
        Apperyio("PR_username").parent().css("padding-bottom", "5px");
        Apperyio("PR_username").parent().css("padding-left", "10px");
        Apperyio("PR_password").parent().css("background", "#ffffff");
        Apperyio("PR_password").parent().css("border-color", "#ff725e");
        Apperyio("PR_password").parent().css("border-width", "1px");
        Apperyio("PR_password").parent().css("color", "#ff725e");
        Apperyio("PR_password").parent().css("font-size", "14px");
        Apperyio("PR_password").parent().css("border-radius", "15px");
        Apperyio("PR_password").parent().css("padding-top", "5px");
        Apperyio("PR_password").parent().css("padding-bottom", "5px");
        Apperyio("PR_password").parent().css("padding-left", "10px");
        addMyStudents_deviceEvents();
        addMyStudents_windowEvents();
        addMyStudents_elementsEvents();
    };
    // screen window events
    function addMyStudents_windowEvents() {
        $('#addMyStudents').bind('pageshow orientationchange', function() {
            var _page = this;
            adjustContentHeightWithPadding(_page);
        });
        $('#addMyStudents').on({
            pageshow: function(event) {
                try {
                    listPodsStudentMa.execute({});
                } catch (e) {
                    console.error(e);
                    hideSpinner();
                };
                try {
                    queryMyStudents.execute({});
                } catch (e) {
                    console.error(e);
                    hideSpinner();
                };
            },
        });
    };
    // device events
    function addMyStudents_deviceEvents() {
        document.addEventListener("deviceready", function() {
        });
    };
    // screen elements extra js
    function addMyStudents_elementsExtraJS() {
        // screen (addMyStudents) extra code
        /* podSelectMenu */
        $("#addMyStudents_podSelectMenu").parent().find("a.ui-btn").attr("tabindex", "16");
        /* regionSelectMenu */
        $("#addMyStudents_regionSelectMenu").parent().find("a.ui-btn").attr("tabindex", "4");
        /* moreStudentInfoGrid */
        $("#addMyStudents_moreStudentInfoGrid").popup("option", "positionTo", "window");
    };
    // screen elements handler
    function addMyStudents_elementsEvents() {
        $(document).on("click", "a :input,a a,a fieldset label", function(event) {
            event.stopPropagation();
        });
        $(document).off("click", '#addMyStudents_mobilecontainer [name="mobilebutton_141"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio.navigateTo('Home', {
                        transition: 'slide',
                        reverse: true
                    });
                }
            },
        }, '#addMyStudents_mobilecontainer [name="mobilebutton_141"]');
        $(document).off("change", '#addMyStudents_mobilecontainer [name="podSelectMenu"]').on({
            change: function(event) {
                Apperyio("mobilegrid_2").show();
                Apperyio("podChose").text($(this).val());
                Apperyio("resultsLabel").text("Currently Searching by Learning Pod");;
                try {
                    queryUserProfileByPod.execute({});
                } catch (e) {
                    console.error(e);
                    hideSpinner();
                };
            },
        }, '#addMyStudents_mobilecontainer [name="podSelectMenu"]');
        $(document).off("change", '#addMyStudents_mobilecontainer [name="regionSelectMenu"]').on({
            change: function(event) {
                Apperyio("mobilegrid_2").show();
                Apperyio("resultsLabel").text("Search Results for: Region " + $(this).val());
                try {
                    queryUserProfile.execute({});
                } catch (e) {
                    console.error(e);
                    hideSpinner();
                };
            },
        }, '#addMyStudents_mobilecontainer [name="regionSelectMenu"]');
        $(document).off("tap", '#addMyStudents_mobilecontainer [name="addButton"]').on({
            tap: function(event) {
                Apperyio.storage.studentIDToAdd.set($(this).attr("data-chosenStudent"));
                $(this).addClass("alreadyAdded");
                $(this).text("Added");
                $(this).addClass("ui-disabled");
                createCoachConnection.execute();
                ;
                event.stopPropagation();
                return false;
            },
        }, '#addMyStudents_mobilecontainer [name="addButton"]');
        $(document).off("tap", '#addMyStudents_mobilecontainer [name="moreButton"]').on({
            tap: function(event) {
                Apperyio.storage.currentStudentProfileID.set($(this).attr("data-studentID"));
                Apperyio("studentNamePopup").text($(this).attr("data-firstName") + "'s Details");
                Apperyio("phoneNumber").text("Phone: " + $(this).attr("data-phone"));
                Apperyio("grade").text("Grade: " + $(this).attr("data-grade"));
                Apperyio("program").text("Program: " + $(this).attr("data-program"));
                Apperyio.storage.currentStudentUserID.set($(this).attr("data-userID"));
                Apperyio("student_usern").text("Username: " + $(this).attr("data-userID"));
                queryStudentAttendance.execute();
                event.stopPropagation();
                return false;
            },
        }, '#addMyStudents_mobilecontainer [name="moreButton"]');
        $(document).off("click", '#addMyStudents_moreStudentInfoGrid [name="mobilebutton_142"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    Apperyio("mobilegrid_143").show();
                }
            },
        }, '#addMyStudents_moreStudentInfoGrid [name="mobilebutton_142"]');
        $(document).off("click", '#addMyStudents_moreStudentInfoGrid [name="mobilebutton_152"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        updateStudentPassword.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                }
            },
        }, '#addMyStudents_moreStudentInfoGrid [name="mobilebutton_152"]');
        $(document).off("tap", '#addMyStudents_moreStudentInfoGrid [name="attendance"]').on({
            tap: function(event) {
                Apperyio("attendance").removeClass("notClicked").addClass("clicked");
                Apperyio("lessons").removeClass("clicked").addClass("notClicked");
                Apperyio("lessonsGrid").hide();
                Apperyio("attendanceGrid").show();
                event.stopPropagation();
                return false;
            },
        }, '#addMyStudents_moreStudentInfoGrid [name="attendance"]');
        $(document).off("tap", '#addMyStudents_moreStudentInfoGrid [name="lessons"]').on({
            tap: function(event) {
                Apperyio("lessons").removeClass("notClicked").addClass("clicked");
                Apperyio("attendance").removeClass("clicked").addClass("notClicked");
                Apperyio("lessonsGrid").show();
                Apperyio("attendanceGrid").hide();
                event.stopPropagation();
                return false;
            },
        }, '#addMyStudents_moreStudentInfoGrid [name="lessons"]');
    };
    $(document).off("pagebeforeshow", "#addMyStudents").on("pagebeforeshow", "#addMyStudents", function(event, ui) {
        Apperyio.CurrentScreen = "addMyStudents";
        _.chain(Apperyio.mappings)
            .filter(function(m) {
                return m.homeScreen === Apperyio.CurrentScreen;
            })
            .each(Apperyio.UIHandler.hideTemplateComponents);
    });
    addMyStudents_onLoad();
};
$(document).off("pagecreate", "#addMyStudents").on("pagecreate", "#addMyStudents", function(event, ui) {
    Apperyio.processSelectMenu($(this));
    addMyStudents_js();
});